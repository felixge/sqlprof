-- test.sql --
select stack(stack_id)
from stacks
order by 1
limit 5;
-- test.txt --
../testdata/testprog/go1.23.3.trace:
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        stack(stack_id)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| map[_stack_id:1 full:[runtime.traceLocker.Gomaxprocs (/opt/homebrew/Cellar/go/1.23.3/libexec/src/runtime/traceruntime.go:304) runtime.StartTrace (/opt/homebrew/Cellar/go/1.23.3/libexec/src/runtime/trace.go:283) runtime/trace.Start (/opt/homebrew/Cellar/go/1.23.3/libexec/src/runtime/trace/trace.go:125) github.com/felixge/sqlprof/internal/profile.StartTrace (/Users/felix.geisendoerfer/go/src/github.com/felixge/sqlprof/internal/profile/profile.go:51) main.run (/Users/felix.geisendoerfer/go/src/github.com/felixge/sqlprof/testdata/testprog/main.go:47) main.main (/Users/felix.geisendoerfer/go/src/github.com/felixge/sqlprof/testdata/testprog/main.go:17)] funcs:[runtime.traceLocker.Gomaxprocs runtime.StartTrace runtime/trace.Start github.com/felixge/sqlprof/internal/profile.StartTrace main.run main.main] terse:[runtime.traceLocker.Gomaxprocs (traceruntime.go:304) runtime.StartTrace (trace.go:283) runtime/trace.Start (trace.go:125) github.com/felixge/sqlprof/internal/profile.StartTrace (profile.go:51) main.run (main.go:47) main.main (main.go:17)]] |
| map[_stack_id:2 full:[runtime.StartTrace (/opt/homebrew/Cellar/go/1.23.3/libexec/src/runtime/trace.go:284) runtime/trace.Start (/opt/homebrew/Cellar/go/1.23.3/libexec/src/runtime/trace/trace.go:125) github.com/felixge/sqlprof/internal/profile.StartTrace (/Users/felix.geisendoerfer/go/src/github.com/felixge/sqlprof/internal/profile/profile.go:51) main.run (/Users/felix.geisendoerfer/go/src/github.com/felixge/sqlprof/testdata/testprog/main.go:47) main.main (/Users/felix.geisendoerfer/go/src/github.com/felixge/sqlprof/testdata/testprog/main.go:17)] funcs:[runtime.StartTrace runtime/trace.Start github.com/felixge/sqlprof/internal/profile.StartTrace main.run main.main] terse:[runtime.StartTrace (trace.go:284) runtime/trace.Start (trace.go:125) github.com/felixge/sqlprof/internal/profile.StartTrace (profile.go:51) main.run (main.go:47) main.main (main.go:17)]]                                                                                                                                                                                             |
| map[_stack_id:3 full:[runtime.startTheWorld (/opt/homebrew/Cellar/go/1.23.3/libexec/src/runtime/proc.go:1457) runtime.StartTrace (/opt/homebrew/Cellar/go/1.23.3/libexec/src/runtime/trace.go:306) runtime/trace.Start (/opt/homebrew/Cellar/go/1.23.3/libexec/src/runtime/trace/trace.go:125) github.com/felixge/sqlprof/internal/profile.StartTrace (/Users/felix.geisendoerfer/go/src/github.com/felixge/sqlprof/internal/profile/profile.go:51) main.run (/Users/felix.geisendoerfer/go/src/github.com/felixge/sqlprof/testdata/testprog/main.go:47) main.main (/Users/felix.geisendoerfer/go/src/github.com/felixge/sqlprof/testdata/testprog/main.go:17)] funcs:[runtime.startTheWorld runtime.StartTrace runtime/trace.Start github.com/felixge/sqlprof/internal/profile.StartTrace main.run main.main] terse:[runtime.startTheWorld (proc.go:1457) runtime.StartTrace (trace.go:306) runtime/trace.Start (trace.go:125) github.com/felixge/sqlprof/internal/profile.StartTrace (profile.go:51) main.run (main.go:47) main.main (main.go:17)]]                                          |
| map[_stack_id:4 full:[runtime.StartTrace (/opt/homebrew/Cellar/go/1.23.3/libexec/src/runtime/trace.go:306) runtime/trace.Start (/opt/homebrew/Cellar/go/1.23.3/libexec/src/runtime/trace/trace.go:125) github.com/felixge/sqlprof/internal/profile.StartTrace (/Users/felix.geisendoerfer/go/src/github.com/felixge/sqlprof/internal/profile/profile.go:51) main.run (/Users/felix.geisendoerfer/go/src/github.com/felixge/sqlprof/testdata/testprog/main.go:47) main.main (/Users/felix.geisendoerfer/go/src/github.com/felixge/sqlprof/testdata/testprog/main.go:17)] funcs:[runtime.StartTrace runtime/trace.Start github.com/felixge/sqlprof/internal/profile.StartTrace main.run main.main] terse:[runtime.StartTrace (trace.go:306) runtime/trace.Start (trace.go:125) github.com/felixge/sqlprof/internal/profile.StartTrace (profile.go:51) main.run (main.go:47) main.main (main.go:17)]]                                                                                                                                                                                             |
| map[_stack_id:5 full:[runtime.traceStartReadCPU (/opt/homebrew/Cellar/go/1.23.3/libexec/src/runtime/tracecpu.go:42) runtime.StartTrace (/opt/homebrew/Cellar/go/1.23.3/libexec/src/runtime/trace.go:308) runtime/trace.Start (/opt/homebrew/Cellar/go/1.23.3/libexec/src/runtime/trace/trace.go:125) github.com/felixge/sqlprof/internal/profile.StartTrace (/Users/felix.geisendoerfer/go/src/github.com/felixge/sqlprof/internal/profile/profile.go:51) main.run (/Users/felix.geisendoerfer/go/src/github.com/felixge/sqlprof/testdata/testprog/main.go:47) main.main (/Users/felix.geisendoerfer/go/src/github.com/felixge/sqlprof/testdata/testprog/main.go:17)] funcs:[runtime.traceStartReadCPU runtime.StartTrace runtime/trace.Start github.com/felixge/sqlprof/internal/profile.StartTrace main.run main.main] terse:[runtime.traceStartReadCPU (tracecpu.go:42) runtime.StartTrace (trace.go:308) runtime/trace.Start (trace.go:125) github.com/felixge/sqlprof/internal/profile.StartTrace (profile.go:51) main.run (main.go:47) main.main (main.go:17)]]                          |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
