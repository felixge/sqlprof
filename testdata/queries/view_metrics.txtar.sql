-- sample.sql --
select
    distinct on (name, stack_id is null, g is null) *
from metrics
order by end_time_ns;
-- sample.txt --
../testdata/testprog/go1.23.3.trace:
+-----------------+------------------------------------+---------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+-------+---+------------+
|   end_time_ns   |                name                |  value  | stack_id |                                                                       funcs                                                                       |   g   | p |     m      |
+-----------------+------------------------------------+---------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+-------+---+------------+
| 981359936362624 | /sched/gomaxprocs:threads          |      10 |        1 | [runtime.traceLocker.Gomaxprocs runtime.StartTrace runtime/trace.Start github.com/felixge/sqlprof/internal/profile.StartTrace main.run main.main] |     1 | 3 | 6125793280 |
| 981359936363520 | /gc/heap/goal:bytes                | 4194304 | <nil>    | <nil>                                                                                                                                             |     1 | 3 | 6125793280 |
| 981359936389696 | /memory/classes/heap/objects:bytes | 4251648 | <nil>    | <nil>                                                                                                                                             |     1 | 3 | 6125793280 |
| 981360035561280 | /memory/classes/heap/objects:bytes | 3740904 | <nil>    | <nil>                                                                                                                                             | <nil> | 0 | 6125793280 |
+-----------------+------------------------------------+---------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+-------+---+------------+
